{% set images = [
'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&q=80&w=800',
'https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&q=80&w=800',
'https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&q=80&w=800',
'https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&q=80&w=800',
'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?auto=format&fit=crop&q=80&w=800',
'https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&q=80&w=800',
'https://images.unsplash.com/photo-1502823403499-6ccfcf4fb453?auto=format&fit=crop&q=80&w=800',
'https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?auto=format&fit=crop&q=80&w=800',
'https://images.unsplash.com/photo-1496440737103-cd596325d314?auto=format&fit=crop&q=80&w=800',
'https://images.unsplash.com/photo-1524638431109-93d95c968f03?auto=format&fit=crop&q=80&w=800'
] %}

{% if providers %}
{% for provider in providers %}
{% set img_url = images[(loop.index0) % 10] %}
<!-- Provider Card -->
<div class="group cursor-pointer"
    onclick="openProfile({{ provider.id }}, '{{ provider.display_name }}', '{{ provider.neighborhood or provider.city }}', '{{ provider.telegram_id }}', '{{ img_url }}')">
    <div
        class="relative aspect-[3/4] rounded-3xl overflow-hidden border border-white/5 bg-zinc-900 transition-all group-hover:border-[#D4AF37]/50">
        <!-- Profile Image with Lazy Loading -->
        <img src="{{ img_url }}"
            loading="lazy"
            class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500"
            alt="{{ provider.display_name }}"
            style="background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 50%, #1a1a1a 100%);">
        <!-- Badges Container -->
        <div class="absolute top-4 right-4 z-10 flex items-center gap-2">
            <!-- Live Badge (Only for online providers) -->
            {% if provider.is_online %}
            <div id="live-badge-{{ provider.id }}"
                 hx-get="/api/status/{{ provider.id }}"
                 hx-trigger="every 30s"
                 hx-swap="outerHTML"
                 class="glass px-2 py-1 rounded-full flex items-center gap-1">
                <span class="h-2 w-2 bg-green-500 rounded-full animate-pulse"></span>
                <span class="text-[10px] text-green-400 font-bold uppercase">Live</span>
            </div>
            {% endif %}
            <!-- Blue Tick Badge -->
            <div class="glass p-1.5 rounded-full">
                <svg class="w-5 h-5 text-[#00A3FF]" fill="currentColor" viewBox="0 0 20 20">
                    <path
                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293l-4 4a1 1 0 01-1.414 0l-2-2a1 1 0 111.414-1.414L9 10.586l3.293-3.293a1 1 0 011.414 1.414z">
                    </path>
                </svg>
            </div>
        </div>
        <!-- Content Overlay -->
        <div
            class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent">
            <p class="text-[10px] gold-text font-bold uppercase tracking-widest mb-1">Verified Member</p>
            <h3 class="serif text-2xl">{{ provider.display_name }}</h3>
            <p class="text-gray-400 text-xs flex items-center gap-1 mt-1">
                <svg class="w-3 h-3 text-[#D4AF37]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                    </path>
                </svg>
                {{ provider.neighborhood or provider.city }}
            </p>
        </div>
    </div>
</div>
{% endfor %}
{% else %}
<!-- Empty State -->
<div class="col-span-full text-center py-24">
    <div class="w-24 h-24 mx-auto mb-6 rounded-full glass flex items-center justify-center">
        <svg class="w-12 h-12 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
    </div>
    <h3 class="serif text-2xl text-gray-300 mb-2">No Professionals Available</h3>
    <p class="text-gray-500 text-sm">
        {% if selected_city %}Check back soon or view all cities.{% else %}Check back soon.{% endif %}
    </p>
    {% if selected_city %}
    <a href="/"
        class="inline-block mt-6 px-8 py-3 gold-bg text-black rounded-full text-sm font-bold hover:scale-105 transition-all">
        View All Cities
    </a>
    {% endif %}
</div>
{% endif %}
